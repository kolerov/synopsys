
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Configuring Linux &#8212; Kolerov&#39;s Notes 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuring Guest Linux for VirtualBox" href="vbox.html" />
    <link rel="prev" title="Environment" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="vbox.html" title="Configuring Guest Linux for VirtualBox"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Environment"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Kolerov&#39;s Notes 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Environment</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuring Linux</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="configuring-linux">
<h1>Configuring Linux<a class="headerlink" href="#configuring-linux" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bootstrap-centos-7" id="id1">Bootstrap CentOS 7</a></p></li>
<li><p><a class="reference internal" href="#bootstrap-ubuntu-22-04" id="id2">Bootstrap Ubuntu 22.04</a></p></li>
<li><p><a class="reference internal" href="#bootstrap-fedora-37" id="id3">Bootstrap Fedora 37</a></p></li>
<li><p><a class="reference internal" href="#install-digilent-adept-2" id="id4">Install Digilent Adept 2</a></p></li>
<li><p><a class="reference internal" href="#configure-profile" id="id5">Configure <code class="docutils literal notranslate"><span class="pre">.profile</span></code></a></p></li>
<li><p><a class="reference internal" href="#configure-bashrc" id="id6">Configure <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code></a></p></li>
<li><p><a class="reference internal" href="#setup-git" id="id7">Setup Git</a></p></li>
<li><p><a class="reference internal" href="#install-rust" id="id8">Install Rust</a></p></li>
<li><p><a class="reference internal" href="#build-and-install-elfutils" id="id9">Build and Install <code class="docutils literal notranslate"><span class="pre">elfutils</span></code></a></p></li>
<li><p><a class="reference internal" href="#build-and-install-pahole" id="id10">Build and Install <code class="docutils literal notranslate"><span class="pre">pahole</span></code></a></p></li>
<li><p><a class="reference internal" href="#build-and-install-bpftool" id="id11">Build and Install <code class="docutils literal notranslate"><span class="pre">bpftool</span></code></a></p></li>
</ul>
</nav>
<section id="bootstrap-centos-7">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Bootstrap CentOS 7</a><a class="headerlink" href="#bootstrap-centos-7" title="Permalink to this heading">¶</a></h2>
<p>Add the user to <code class="docutils literal notranslate"><span class="pre">wheel</span></code> group to enabled <code class="docutils literal notranslate"><span class="pre">sudo</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usermod<span class="w"> </span>-aG<span class="w"> </span>wheel<span class="w"> </span>ykolerov
</pre></div>
</div>
<p>Enable EPEL repository and update:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>epel-release
sudo<span class="w"> </span>yum<span class="w"> </span>-y<span class="w"> </span>update
</pre></div>
</div>
</section>
<section id="bootstrap-ubuntu-22-04">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Bootstrap Ubuntu 22.04</a><a class="headerlink" href="#bootstrap-ubuntu-22-04" title="Permalink to this heading">¶</a></h2>
<p>Install common packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>vim<span class="w"> </span>mc<span class="w"> </span>nmap<span class="w"> </span>git<span class="w"> </span>mercurial<span class="w"> </span>subversion<span class="w"> </span>cmake<span class="w"> </span>autoconf<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>tmux<span class="w"> </span>screen<span class="w"> </span>minicom<span class="w"> </span>htop<span class="w"> </span>wget<span class="w"> </span>curl<span class="w"> </span>rsync<span class="w"> </span>python3-pip<span class="w"> </span>python3-venv<span class="w"> </span>ipython3
</pre></div>
</div>
<p>Install packages for building a toolchain using Crosstool-NG or our scripts:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>autoconf<span class="w"> </span>help2man<span class="w"> </span>libtool<span class="w"> </span>libtool-bin<span class="w"> </span>texinfo<span class="w"> </span>byacc<span class="w"> </span>flex<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>zlib1g-dev<span class="w"> </span>libexpat1-dev<span class="w"> </span>texlive<span class="w"> </span>build-essential<span class="w"> </span>git<span class="w"> </span>wget<span class="w"> </span>gawk<span class="w"> </span>bison<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>xz-utils<span class="w"> </span>make<span class="w"> </span>python3<span class="w"> </span>rsync<span class="w"> </span>locales
</pre></div>
</div>
</section>
<section id="bootstrap-fedora-37">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Bootstrap Fedora 37</a><a class="headerlink" href="#bootstrap-fedora-37" title="Permalink to this heading">¶</a></h2>
<p>Install main groups:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dnf<span class="w"> </span>update
sudo<span class="w"> </span>dnf<span class="w"> </span>groupinstall<span class="w"> </span><span class="s2">&quot;Development Tools&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                      </span><span class="s2">&quot;Development Libraries&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                      </span><span class="s2">&quot;C Development Tools and Libraries&quot;</span>
</pre></div>
</div>
<p>Install all necessary packages for work and dependencies for building a toolchain:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>autoconf<span class="w"> </span>bison<span class="w"> </span>brlapi-devel<span class="w"> </span>bzip2<span class="w"> </span>capstone-devel<span class="w"> </span>cmake<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>curl-devel<span class="w"> </span>cyrus-sasl-devel<span class="w"> </span>diffutils<span class="w"> </span>dwarves<span class="w"> </span>expat<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>expat-devel<span class="w"> </span>file<span class="w"> </span>flex<span class="w"> </span>gcc-c++<span class="w"> </span>git<span class="w"> </span>gperf<span class="w"> </span>gtk3-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>help2man<span class="w"> </span>htop<span class="w"> </span>libaio-devel<span class="w"> </span>libattr-devel<span class="w"> </span>libcap-ng-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>libfdt-devel<span class="w"> </span>libgcrypt-devel<span class="w"> </span>libibverbs-devel<span class="w"> </span>libiscsi-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>libjpeg-devel<span class="w"> </span>libpng-devel<span class="w"> </span>librdmacm-devel<span class="w"> </span>libseccomp-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>libssh-devel<span class="w"> </span>libtool<span class="w"> </span>libusbx-devel<span class="w"> </span>libuuid-devel<span class="w"> </span>lzo-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>make<span class="w"> </span>mc<span class="w"> </span>mercurial<span class="w"> </span>minicom<span class="w"> </span>ncurses-devel<span class="w"> </span>nettle-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>ninja-build<span class="w"> </span>nmap<span class="w"> </span>patch<span class="w"> </span>perl-Thread-Queue<span class="w"> </span>pixman-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>pulseaudio-libs-devel<span class="w"> </span>python3<span class="w"> </span>rsync<span class="w"> </span>SDL2-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>screen<span class="w"> </span>snappy-devel<span class="w"> </span>systemtap-sdt-devel<span class="w"> </span>texinfo<span class="w"> </span>tmux<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>unzip<span class="w"> </span>vte291-devel<span class="w"> </span>wget<span class="w"> </span>which<span class="w"> </span>xz<span class="w"> </span>zlib-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>libmicrohttpd<span class="w"> </span>libmicrohttpd-devel<span class="w"> </span>libsq3<span class="w"> </span>libsq3-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>libarchive<span class="w"> </span>libarchive-devel<span class="w"> </span>gettext-devel<span class="w"> </span>texlive<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>libmpc-devel<span class="w"> </span>mpfr-devel<span class="w"> </span>clang<span class="w"> </span>clang-devel<span class="w"> </span>llvm<span class="w"> </span>llvm-devel<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>llvm-static<span class="w"> </span>bpftool
</pre></div>
</div>
</section>
<section id="install-digilent-adept-2">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Install Digilent Adept 2</a><a class="headerlink" href="#install-digilent-adept-2" title="Permalink to this heading">¶</a></h2>
<p>Digilent Adept 2 may be downloaded here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://digilent.com/reference/software/adept/start">https://digilent.com/reference/software/adept/start</a></p></li>
</ul>
<p>Installing for Ubuntu:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>./digilent.adept.runtime_2.26.1-amd64.deb
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>./digilent.adept.utilities_2.7.1-amd64.deb
</pre></div>
</div>
<p>Installing for CentOS 7:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>digilent.adept.runtime-2.26.1.x86_64.rpm
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>digilent.adept.utilities-2.7.1.x86_64.rpm
</pre></div>
</div>
</section>
<section id="configure-profile">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Configure <code class="docutils literal notranslate"><span class="pre">.profile</span></code></a><a class="headerlink" href="#configure-profile" title="Permalink to this heading">¶</a></h2>
<p>Note that Fedora uses <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> by default for users instead of <code class="docutils literal notranslate"><span class="pre">.profile</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Common places</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">BASE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">TOOLS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$BASE</span><span class="s2">/tools&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">REPOS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$BASE</span><span class="s2">/repos&quot;</span>

<span class="c1"># Toolchain</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/arc-elf32/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/arc64-elf/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/arc-linux-gnu/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/arc32-linux-uclibc/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/arc64-linux-gnu/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/i686-w64-mingw32/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/x86_64-w64-mingw32/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>

<span class="c1"># QEMU</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">QEMU_HOME</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOOLS</span><span class="s2">/qemu&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">QEMU_HOME</span><span class="si">}</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>

<span class="c1"># Buildroot</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">BR2_DL_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$REPOS</span><span class="s2">/buildroot_dl&quot;</span>

<span class="c1"># Elfutils</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/tools/elfutils/bin:<span class="nv">$PATH</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/tools/elfutils/lib<span class="si">${</span><span class="nv">LD_LIBRARY_PATH</span><span class="p">:+:</span><span class="nv">$LD_LIBRARY_PATH</span><span class="si">}</span>

<span class="c1"># Pahole</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/tools/pahole/bin:<span class="nv">$PATH</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/tools/pahole/lib<span class="si">${</span><span class="nv">LD_LIBRARY_PATH</span><span class="p">:+:</span><span class="nv">$LD_LIBRARY_PATH</span><span class="si">}</span>
</pre></div>
</div>
</section>
<section id="configure-bashrc">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Configure <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code></a><a class="headerlink" href="#configure-bashrc" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span>clean_path<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PATH</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/:\/mnt\/c.*//&#39;</span><span class="k">)</span>
<span class="o">}</span>

<span class="k">function</span><span class="w"> </span>clean_ld<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">unset</span><span class="w"> </span>LD_LIBRARY_PATH
<span class="o">}</span>

<span class="c1"># This function as its name says removes desired substrings from PATH</span>
<span class="c1"># (shamelessly stolen from http://unix.stackexchange.com/a/291611)</span>
<span class="k">function</span><span class="w"> </span>path_remove<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1"># Delete path by parts so we can never accidentally remove sub paths</span>
<span class="w">    </span><span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PATH</span><span class="p">//</span><span class="s2">&quot;:</span><span class="nv">$1</span><span class="s2">:&quot;</span><span class="p">/</span><span class="s2">&quot;:&quot;</span><span class="si">}</span><span class="w"> </span><span class="c1"># delete any instances in the middle</span>
<span class="w">    </span><span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PATH</span><span class="p">/#</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">:&quot;</span><span class="p">/</span><span class="si">}</span><span class="w"> </span><span class="c1"># delete any instance at the beginning</span>
<span class="w">    </span><span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PATH</span><span class="p">/%</span><span class="s2">&quot;:</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="p">/</span><span class="si">}</span><span class="w"> </span><span class="c1"># delete any instance in the at the end</span>
<span class="o">}</span>

<span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>clean_path
<span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>clean_ld
<span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>path_remove
</pre></div>
</div>
</section>
<section id="setup-git">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Setup Git</a><a class="headerlink" href="#setup-git" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;Yuriy Kolerov&quot;</span>
git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;ykolerov@synopsys.com&quot;</span>
</pre></div>
</div>
</section>
<section id="install-rust">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Install Rust</a><a class="headerlink" href="#install-rust" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--proto<span class="w"> </span><span class="s1">&#39;=https&#39;</span><span class="w"> </span>--tlsv1.2<span class="w"> </span>-sSf<span class="w"> </span>https://sh.rustup.rs<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</pre></div>
</div>
</section>
<section id="build-and-install-elfutils">
<span id="build-elfutils"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Build and Install <code class="docutils literal notranslate"><span class="pre">elfutils</span></code></a><a class="headerlink" href="#build-and-install-elfutils" title="Permalink to this heading">¶</a></h2>
<p>Dependencies for Fedora 37:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>libmicrohttpd<span class="w"> </span>libmicrohttpd-devel<span class="w"> </span>libsq3<span class="w"> </span>libsq3-devel<span class="w"> </span>libarchive<span class="w"> </span>libarchive-devel<span class="w"> </span>gettext-devel
</pre></div>
</div>
<p>Dependencies for Ubuntu 22.04:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libarchive-dev<span class="w"> </span>libsqlite3-dev<span class="w"> </span>libmicrohttpd-dev
</pre></div>
</div>
<p>Build and install:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://sourceware.org/git/elfutils.git
<span class="nb">cd</span><span class="w"> </span>elfutils
git<span class="w"> </span>checkout<span class="w"> </span>elfutils-0.189
autoreconf<span class="w"> </span>-fi
./configure<span class="w"> </span>--prefix<span class="o">=</span>/tools/elfutils<span class="w"> </span>--enable-maintainer-mode
make
make<span class="w"> </span>install
</pre></div>
</div>
<p>Configure your environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/tools/elfutils/bin:<span class="nv">$PATH</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/tools/elfutils/lib<span class="si">${</span><span class="nv">LD_LIBRARY_PATH</span><span class="p">:+:</span><span class="nv">$LD_LIBRARY_PATH</span><span class="si">}</span>
</pre></div>
</div>
</section>
<section id="build-and-install-pahole">
<span id="build-pahole"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">Build and Install <code class="docutils literal notranslate"><span class="pre">pahole</span></code></a><a class="headerlink" href="#build-and-install-pahole" title="Permalink to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We use here 1.23 version of Pahole because of this commit in the latest version:</p>
<blockquote>
<div><p><a class="reference external" href="https://git.kernel.org/pub/scm/devel/pahole/pahole.git/commit/?id=9712d9ec929fb6b3595d2970bbbac8b0b1c10ead">https://git.kernel.org/pub/scm/devel/pahole/pahole.git/commit/?id=9712d9ec929fb6b3595d2970bbbac8b0b1c10ead</a></p>
</div></blockquote>
<p>It leads to generating BTF information for 64-bit enumerations. However, Linux kernels below 6.0 version
contain tools which don’t support such BTF structures and crash while building the kernel.</p>
</div>
<p>Dependencies for Ubuntu 22.04:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libdw-dev
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>-b<span class="w"> </span>v1.23<span class="w"> </span>https://git.kernel.org/pub/scm/devel/pahole/pahole.git
mkdir<span class="w"> </span>pahole/build
<span class="nb">cd</span><span class="w"> </span>pahole/build
cmake<span class="w"> </span>-D__LIB<span class="o">=</span>lib<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span>/tools/pahole<span class="w"> </span>..
make
make<span class="w"> </span>install
</pre></div>
</div>
<p>Configure your environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/tools/pahole/bin:<span class="nv">$PATH</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/tools/pahole/lib<span class="si">${</span><span class="nv">LD_LIBRARY_PATH</span><span class="p">:+:</span><span class="nv">$LD_LIBRARY_PATH</span><span class="si">}</span>
</pre></div>
</div>
</section>
<section id="build-and-install-bpftool">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Build and Install <code class="docutils literal notranslate"><span class="pre">bpftool</span></code></a><a class="headerlink" href="#build-and-install-bpftool" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/libbpf/bpftool.git
<span class="nb">cd</span><span class="w"> </span>src
make<span class="w"> </span><span class="nv">prefix</span><span class="o">=</span>/tools/bpftool<span class="w"> </span>install-bin
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Configuring Linux</a><ul>
<li><a class="reference internal" href="#bootstrap-centos-7">Bootstrap CentOS 7</a></li>
<li><a class="reference internal" href="#bootstrap-ubuntu-22-04">Bootstrap Ubuntu 22.04</a></li>
<li><a class="reference internal" href="#bootstrap-fedora-37">Bootstrap Fedora 37</a></li>
<li><a class="reference internal" href="#install-digilent-adept-2">Install Digilent Adept 2</a></li>
<li><a class="reference internal" href="#configure-profile">Configure <code class="docutils literal notranslate"><span class="pre">.profile</span></code></a></li>
<li><a class="reference internal" href="#configure-bashrc">Configure <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code></a></li>
<li><a class="reference internal" href="#setup-git">Setup Git</a></li>
<li><a class="reference internal" href="#install-rust">Install Rust</a></li>
<li><a class="reference internal" href="#build-and-install-elfutils">Build and Install <code class="docutils literal notranslate"><span class="pre">elfutils</span></code></a></li>
<li><a class="reference internal" href="#build-and-install-pahole">Build and Install <code class="docutils literal notranslate"><span class="pre">pahole</span></code></a></li>
<li><a class="reference internal" href="#build-and-install-bpftool">Build and Install <code class="docutils literal notranslate"><span class="pre">bpftool</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Environment</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="vbox.html"
                          title="next chapter">Configuring Guest Linux for VirtualBox</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/environment/linux.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="vbox.html" title="Configuring Guest Linux for VirtualBox"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Environment"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Kolerov&#39;s Notes 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Environment</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuring Linux</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Yuriy Kolerov.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>